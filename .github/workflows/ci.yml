name: CI/CD Pipeline

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: 📥 Checkout code
      uses: actions/checkout@v4

    - name: 🐍 Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: "3.10"

    - name: 📦 Install dependencies
      run: pip install flask

    - name: 🧪 Run tests
      run: |
        echo "Starting tests..."
        python -c "print('=== 🧪 ТЕСТИРОВАНИЕ НАЧАТО ===')
print('1. Тест базовой математики...')
assert 2 + 2 == 4
print('✅ 2+2=4 - правильно')
print('2. Тест умножения...')
assert 3 * 4 == 12  
print('✅ 3*4=12 - правильно')
print('3. Тест истории операций...')
history = []
history.append('2+2=4')
history.append('3*3=9')
assert len(history) == 2
print('✅ История сохранила 2 записи')
print('=== 🎉 ВСЕ ТЕСТЫ ПРОЙДЕНЫ! ===')
print('=== 🚀 CI/CD РАБОТАЕТ! ===')"

    - name: ✅ Success
      run: |
        echo "========================================"
        echo "🎉 CI/CD ПРОЦЕСС УСПЕШНО ЗАВЕРШЕН!"
        echo "📅 Время: $(date)"
        echo "========================================"