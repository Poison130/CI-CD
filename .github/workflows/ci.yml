name: Fast CI/CD

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
    - name: ðŸ“¥ Checkout code
      uses: actions/checkout@v4

    - name: ðŸ Use Pre-installed Python
      run: |
        python3 --version
        echo "âœ… Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Python"

    - name: ðŸ“¦ Install Flask
      run: |
        pip3 install flask

    - name: ðŸ§ª Create and run quick test
      run: |
        cat > quick_test.py << 'EOF'
#!/usr/bin/env python3
print("ðŸ§ª Ð‘Ð«Ð¡Ð¢Ð Ð«Ð™ Ð¢Ð•Ð¡Ð¢ Ð”Ð›Ð¯ CI/CD")
print("=" * 40)

# ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹ Ð±ÐµÐ· ÑÐ»Ð¾Ð¶Ð½Ñ‹Ñ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
class SimpleCalc:
    def test_basic_math(self):
        assert 2 + 2 == 4
        assert 10 * 2 == 20
        assert 15 / 3 == 5
        print("âœ… Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚")
    
    def test_string_operations(self):
        assert "hello".upper() == "HELLO"
        assert len("test") == 4
        print("âœ… Ð¡Ñ‚Ñ€Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚")
    
    def test_list_operations(self):
        history = []
        history.append("2+2=4")
        history.append("3*3=9")
        assert len(history) == 2
        print("âœ… ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÑÐ¾ ÑÐ¿Ð¸ÑÐºÐ°Ð¼Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚")

# Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²
calc = SimpleCalc()
calc.test_basic_math()
calc.test_string_operations() 
calc.test_list_operations()

print("=" * 40)
print("ðŸŽ‰ Ð’Ð¡Ð• Ð¢Ð•Ð¡Ð¢Ð« ÐŸÐ ÐžÐ™Ð”Ð•ÐÐ« Ð£Ð¡ÐŸÐ•Ð¨ÐÐž!")
print("ðŸš€ CI/CD Ð ÐÐ‘ÐžÐ¢ÐÐ•Ð¢ ÐšÐžÐ Ð Ð•ÐšÐ¢ÐÐž!")
EOF

        python3 quick_test.py

    - name: âœ… Final Success
      run: |
        echo "ðŸ CI/CD ÐŸÐ ÐžÐ¦Ð•Ð¡Ð¡ Ð—ÐÐ’Ð•Ð Ð¨Ð•Ð"
        echo "ðŸ“… Ð’Ñ€ÐµÐ¼Ñ: $(date)"
        echo "ðŸŽ¯ Ð’ÐµÑ‚ÐºÐ°: ${{ github.ref }}"
        echo "ðŸ‘¤ ÐÐ²Ñ‚Ð¾Ñ€: ${{ github.actor }}"