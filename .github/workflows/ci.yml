name: CI/CD Pipeline

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ["3.8", "3.9", "3.10", "3.11"]
    
    name: Test on Python ${{ matrix.python-version }}
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4

    - name: ğŸ Setup Python ${{ matrix.python-version }}
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}

    - name: ğŸ“¦ Install dependencies
      run: pip install flask

    - name: ğŸ§ª Run basic tests
      run: |
        echo "Testing on Python ${{ matrix.python-version }}..."
        python -c "
import sys
print(f'=== ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ• ĞĞ Python {sys.version.split()[0]} ===')
print('1. Ğ¢ĞµÑÑ‚ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ¸...')
assert 2 + 2 == 4
print('âœ… 2+2=4 - Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾')

print('2. Ğ¢ĞµÑÑ‚ ÑƒĞ¼Ğ½Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ...')
assert 3 * 4 == 12  
print('âœ… 3*4=12 - Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾')

print('3. Ğ¢ĞµÑÑ‚ Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ...')
assert 10 / 2 == 5
print('âœ… 10/2=5 - Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾')

print('4. Ğ¢ĞµÑÑ‚ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹...')
history = []
history.append('2+2=4')
history.append('3*3=9')
assert len(history) == 2
print('âœ… Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ° 2 Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸')

print('=== ğŸ‰ Ğ’Ğ¡Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞŸĞ ĞĞ™Ğ”Ğ•ĞĞ«! ===')
print(f'=== ğŸš€ Python {sys.version.split()[0]} Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢! ===')
        "

    - name: âœ… Success
      run: |
        echo "========================================"
        echo "ğŸ‰ Python ${{ matrix.python-version }} - Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞŸĞ ĞĞ™Ğ”Ğ•ĞĞ«!"
        echo "ğŸ“… Ğ’Ñ€ĞµĞ¼Ñ: $(date)"
        echo "========================================"
